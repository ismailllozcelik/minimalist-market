<div class="grid">
    <div class="col-12">
        <div class="card">
            <div class="surface-section px-2 py-3 md:px-3 lg:px-2">
                <ul
                    class="list-none p-0 m-0 flex align-items-center font-medium mb-3"
                >
                    <li>
                        <a
                            class="text-500 no-underline line-height-3 cursor-pointer"
                            routerLink="/products"
                            routerLinkActive="router-link-active"
                            >Best Selling Products</a
                        >
                    </li>
                    <li class="px-2">
                        <i class="pi pi-angle-right text-500 line-height-3"></i>
                    </li>
                    <li>
                        <span class="text-900 line-height-3"
                            >Product Detail</span
                        >
                    </li>
                </ul>

                <hot-deal></hot-deal>

                <ng-container *ngIf="product$ | async as product">
                    <div
                        class="flex md:flex-row flex-column justify-content-between align-items-center text-800"
                    >
                        <div class="col-12 md:col-6">
                            <img
                                [src]="product.image"
                                [alt]="product.name"
                                class="w-8 my-3 mx-0 product-image"
                                style="max-height: 400px; min-height: 100px"
                            />
                        </div>
                        <div
                            class="col-12 md:col-6 p-6 text-center md:text-left flex align-items-center"
                        >
                            <section>
                                <span class="block text-2xl font-bold mb-1">{{
                                    product.title
                                }}</span>
                                <div
                                    class="text-xl text-primary font-bold mb-3"
                                >
                                    <span class="mr-1">{{
                                        product.rating.rate
                                    }}</span>
                                    <p-rating
                                        [ngModel]="product.rating.rate"
                                        [readonly]="true"
                                        [cancel]="false"
                                    ></p-rating>
                                    <span>
                                        ({{
                                            product.rating.count
                                        }}
                                        Reviews)</span
                                    >
                                </div>
                                <p class="mt-0 mb-4 text-700 line-height-3">
                                    {{ product.description }}
                                </p>
                                <p-button
                                    label="Sepete Ekle"
                                    icon="pi pi-shopping-cart"
                                    [disabled]="!userData"
                                    [pTooltip]="
                                        !userData
                                            ? 'Please login to add to cart'
                                            : ''
                                    "
                                    (click)="addToCart(product)"
                                ></p-button>
                            </section>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>
